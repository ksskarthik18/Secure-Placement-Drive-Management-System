{% extends "base.html" %}

{% block content %}
<h2><i class="fas fa-briefcase"></i> Job Openings</h2>

{% if not jobs %}
<p>No jobs posted yet.</p>
{% else %}
<div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 20px;">
    {% for job in jobs %}
    <div class="card">
        <h3>{{ job.title }}</h3>
        <h4>{{ job.company }}</h4>
        <p>{{ job.description }}</p>
        <p><small class="text-muted">Posted: {{ job.posted_date.strftime('%Y-%m-%d') }}</small></p>

        {% if job.id in my_applications %}
        <button class="btn btn-secondary" disabled>Applied</button>
        {% else %}
        <form action="{{ url_for('student.apply_job', job_id=job.id) }}" method="POST">
            <button type="submit" class="btn">Apply Now</button>
        </form>
        {% endif %}
    </div>
    {% endfor %}
</div>
{% endif %}
{% endblock %}